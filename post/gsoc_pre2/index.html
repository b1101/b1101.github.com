
<!DOCTYPE html>
<html lang="en-us">
<head>

  
  <meta charset="UTF-8">
  <title>
    GSoC - Getting ready | ~b1101
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">

  
  <link rel="canonical" href="https://b1101.github.io/post/gsoc_pre2/"/>

  
  <link rel="stylesheet" href="/css/sanitize.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/highlight_monokai.css">
  <link rel="stylesheet" href="/css/theme.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  
  <link href="https://b1101.github.io/index.xml" rel="alternate" type="application/rss+xml" title="~b1101" />
  <link href="https://b1101.github.io/index.xml" rel="feed" type="application/rss+xml" title="~b1101" />

  
  


</head>



<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="https://b1101.github.io/">~b1101</a></h1>
        <h2>Musician in the world of algorithms surrounded by my $SHELL</h2>
      </div>
      <div id="social" class="col span_6">
        <ul>
          
          <li><a href="https://github.com/b1101" target="_blank">GitHub</a></li>
          <li><a href="https://twitter.com/flat1101" target="_blank">Twitter</a></li>
          <li><a href="https://www.linkedin.com/in/rvolosatovs" target="_blank">Linkedin</a></li>
          
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>GSoC - Getting ready</h1>
      <div class="meta">
        May 17, 2016 &nbsp;
        
          #<a href="/tags/gsoc">gsoc</a>&nbsp;
        
          #<a href="/tags/philips-hue">philips-hue</a>&nbsp;
        
          #<a href="/tags/research">research</a>&nbsp;
        
          #<a href="/tags/golang">golang</a>&nbsp;
        
          #<a href="/tags/browsix">browsix</a>&nbsp;
        
      </div>
    </div>
    <article>
      

<p>Right after being accepted I fixed one small issue in Browsix and sent a <a href="https://github.com/plasma-umass/browsix/pull/30">pull request</a>(a much better one this time) Actualy I was pretty sure I am going to write the Init system and work on IPC in Typescript+Node.js and started to get afraid of that &ldquo;callback hell&rdquo;. Only about 2-3 weeks ago I found out that I actually am going to do everything in Go.</p>

<h2 id="go">Go</h2>

<p>First off, I like Go. I really like Go. Go is <em>AWESOME</em>!</p>

<p>I knew it is supposed to be &lsquo;cool&rsquo;, but that is some serious level of coolness I encountered here. It has too many amazing stuff, which would take much more than 1 blogpost to describe, so I&rsquo;ll just point out the things that speak out to me the most:</p>

<ul>
<li>Fast</li>
<li>Outstanding standard library</li>
<li>Painless, &lsquo;natural&rsquo; concurrency implementation</li>
<li>Tooling(namely <a href="http://gofmt.com/">gofmt</a>, <a href="https://godoc.org/golang.org/x/tools/cmd/goimports">goimports</a>)</li>
<li>Open-source</li>
<li>Developed by the <em>best</em> and backed by a huge company</li>
<li>It already has a very good infrastructure around it</li>
<li>It is just such a &lsquo;pleasurable&rsquo; experience to write in Go</li>
</ul>

<h2 id="getting-ready-to-rock">Getting ready to rock</h2>

<p>GSoC is coming and I decided to get some experience in Go prior to the project starting. I got lucky enough to get offered a job - there is a research going on in my university(I think I still am not allowed to disclose all the details, so I will keep it as a secret for now. Stuff I wrote is MIT-licensed but in a private repo, hopefuly not for long)</p>

<p>So the higher-level idea: this part of research is going to happen in a psychiatric hospital, where patients are going to be given Philips HUE lightstrips.(probably I should not be telling more) Then I would have to make it possible to make lights light up in different ways and track, when the patient has turned the light off/on or if it&rsquo;s unplugged. A UI should have been provided for the doctor to use, to start the research, change some details of it and query the database to get a spreadsheet with data.</p>

<p>I received 2 lightstrips, 2 tap switches, &lsquo;bridge&rsquo;, which is the part that provides API for control of everything around, a Raspberry Pi 2 and a router.</p>

<p>I decided that Go is the way to go(it runs on ARM perfectly fine) I wrote backend in Go, which RPi runs and serves a simple HTML page with 3 tabs. I used some simple JS to send the &lsquo;GET&rsquo; requests to the Go server on the backend and control everything. I used <a href="https://influxdata.com/">Influx DB</a> for logging the data and <a href="https://github.com/boltdb/bolt">Bolt DB</a> for the patient data(encoded in JSON)</p>

<p>Influx client did not work for me doing queries, by the way, so I wrote a little piece of code to send same old &ldquo;GET&rdquo; requests to get my data. I used <a href="https://github.com/tealeg/xlsx">xlsx</a>, recommended to me by Bobby, for data exporting.</p>

<p>Given I&rsquo;ve never worked with a database or any kind of API and did not even really know what a HTTP request is, it took me 10 days to get everything working properly, about 1-2k LoC and 3 full rewrites of the code I wrote.(only actually working on a project you understand, how terrible you acutaly are in doing so) I ended up dividing everything in &lsquo;classes&rsquo;, defining methods on structs etc and probably did too much of it, but I come from a Java background and so it seemed natural and easier to organise my code that way(at least for now it is so)</p>

<p>I am going to set evertyhing up in the hospital today, in 30 minutes, so I probably should finish this post.</p>

      
      
      
    </article>
    


  </main>
  
  <nav class="pagination-single">
    
      <span class="previous">&larr; <a href="https://b1101.github.io/post/gsoc_pre/" rel="prev">GSoC 2016 - prelude</a></span>
    
    
      <span class="next"><a href="https://b1101.github.io/post/gsoc_pre3/" rel="next">GSoC - The first actually relevant post</a> &rarr;</span>
    
  </nav>


  
  <footer role="contentinfo">
    <div style="text-align:center;">
      
      Written by RomƒÅns Volosatovs
    </div>
  </footer>


</div>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>
</html>

